package com.epam.javase.t01;

import org.junit.*;
import org.junit.Test;

import java.awt.*;
import java.util.regex.Pattern;

import static org.junit.Assert.*;

/**
 * Created by aivanov on 2/26/2017.
 */
public class PenTest {

    private final Pen pen = new Pen(Color.BLACK, 2.5, 0.75);
    private final Pen clone = new Pen(Color.BLACK, 2.5, 0.75);
    private final Pen other = new Pen(2.6, 1.75);

    @Test
    public void testEquals() throws Exception {
        testEqualityWithClone(pen, clone);
        testEqualityWithMySelf(pen);
        testEqualityWithDifferentObject(pen, other);
        testEqualityWithNull(pen);
    }

    private void testEqualityWithNull(Pen pen) {
        assertFalse(pen.equals(null));
    }

    private void testEqualityWithDifferentObject(Pen pen, Pen other) {
        assertFalse(pen.equals(other));
    }

    private void testEqualityWithMySelf(Pen pen) {
        assertTrue(pen.equals(pen));
    }

    private void testEqualityWithClone(Pen pen, Pen clone) {
        assertFalse(pen.equals(clone));
    }

    @Test
    public void testHashCode() throws Exception {
        testHashCodeEqualityWithMyself(pen);
        testHashCodeEqualityWithClone(pen, clone);
        testHashCodeEqualityWithOther(pen, other);
    }

    private void testHashCodeEqualityWithOther(Pen pen, Pen other) {
        assertFalse(pen.hashCode() == other.hashCode());
    }

    private void testHashCodeEqualityWithClone(Pen pen, Pen clone) {
        assertTrue(pen.hashCode() == clone.hashCode());
    }

    private void testHashCodeEqualityWithMyself(Pen pen) {
        assertTrue(pen.hashCode() == pen.hashCode());
    }

    @Test
    public void testToString() throws Exception {

        String str = pen.toString();

        assertTrue(str.indexOf(Color.BLACK.toString()) >= 0);
        assertTrue(str.matches(".*2\\.5.*"));
        assertTrue(str.matches(".*0\\.75.*"));
    }
}